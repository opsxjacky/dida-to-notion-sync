# 滴答清单同步到 Notion 设计文档

## 1. 项目概述

**项目名称**：Dida-to-Notion Sync  
**创建日期**：2026-01-06  
**状态**：设计阶段

### 1.1 背景

<!-- 描述为什么需要这个同步工具 -->

### 1.2 目标

<!-- 这个项目要达成什么目标 -->

---

## 2. 需求分析

### 2.1 同步范围

<!-- 需要同步哪些数据？勾选你需要的 -->

- [ ] 待办任务（未完成）
- [ ] 已完成任务
- [ ] 项目/清单结构
- [ ] 标签
- [ ] 优先级
- [ ] 截止日期
- [ ] 提醒时间
- [ ] 子任务
- [ ] 任务描述/备注
- [ ] 附件
- [ ] 其他：___

### 2.2 同步方向

- [ ] 单向：滴答清单 → Notion
- [ ] 双向同步

### 2.3 同步频率

- [ ] 手动触发（一次性）
- [ ] 定时同步（如每小时/每天）
- [ ] 实时同步
- [ ] 其他：___

### 2.4 冲突处理策略

<!-- 如果同一任务在两边都有修改，如何处理？ -->

---

## 3. 数据映射

### 3.1 滴答清单数据结构

| 滴答清单字段 | 类型 | 说明 |
|-------------|------|------|
| id | string | 任务唯一标识 |
| title | string | 任务标题 |
| content | string | 任务描述 |
| priority | number | 优先级 (0-5) |
| dueDate | datetime | 截止日期 |
| tags | array | 标签列表 |
| projectId | string | 所属项目 |
| status | number | 状态 (0:未完成, 2:已完成) |
| ... | ... | ... |

### 3.2 Notion 数据库结构

| Notion 属性 | 类型 | 对应滴答字段 |
|------------|------|-------------|
| 名称 | Title | title |
| 状态 | Select/Checkbox | status |
| 优先级 | Select | priority |
| 截止日期 | Date | dueDate |
| 标签 | Multi-select | tags |
| 项目 | Select/Relation | projectId |
| 描述 | Text | content |
| 滴答ID | Text | id（用于去重） |

---

## 4. 技术方案

### 4.1 技术选型

<!-- 选择你偏好的技术栈 -->

- [ ] Python
- [ ] Node.js / TypeScript
- [ ] 其他：___

### 4.2 API 信息

#### 滴答清单 API

- API 文档：https://developer.dida365.com/
- 认证方式：OAuth 2.0
- API Key：`<待填写>`

#### Notion API

- API 文档：https://developers.notion.com/
- 认证方式：Integration Token
- API Key：`<待填写>`
- 目标数据库 ID：`<待填写>`

### 4.3 系统架构

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   滴答清单 API   │ ──> │    同步脚本     │ ──> │   Notion API    │
└─────────────────┘     └─────────────────┘     └─────────────────┘
                              │
                              v
                        ┌───────────┐
                        │  本地缓存  │
                        │ (可选)    │
                        └───────────┘
```

### 4.4 核心流程

1. 从滴答清单获取任务列表
2. 与 Notion 现有数据对比（通过滴答ID）
3. 新任务 → 创建 Notion 页面
4. 已存在任务 → 更新 Notion 页面
5. 记录同步日志

---

## 5. 部署方案

<!-- 选择部署方式 -->

- [ ] 本地脚本手动运行
- [ ] 本地 cron 定时任务
- [ ] 云函数（AWS Lambda / Vercel / 阿里云函数计算）
- [ ] 自建服务器
- [ ] 第三方自动化平台（Zapier / n8n / Make）

---

## 6. 其他想法和备注

<!-- 在这里记录你的任何想法、问题或特殊需求 -->

---

## 7. 待办事项

- [ ] 完善需求细节
- [ ] 获取滴答清单 API 访问权限
- [ ] 创建 Notion Integration
- [ ] 创建目标 Notion 数据库
- [ ] 开发同步脚本
- [ ] 测试
- [ ] 部署

---

## 更新记录

| 日期 | 更新内容 | 作者 |
|------|---------|------|
| 2026-01-06 | 创建初始设计文档 | - |

实时同步滴答清单的数据到notion中
1、同步任务、优先级、时间（提醒时间）、同步频率最好可以实时实在不行定时执行也可以。
2、单向同步
3、都可以
4、待定